<% provide(:title, @user.name) %>

<%= currently_at 'Members' %>

<article id="user">
  <header>
    <aside>
      <%= gravatar_for(@user) %>
    </aside>
    <hgroup>
      <h1><%= @user.name %></h1>
      <h2><%= @user.email %></h2>
    </hgroup>
  </header>

  <h3>My Statistics</h3>
  <p>
    You own 
    <strong><%= pluralize(@user.projects.count, "project") %></strong> 
    and have authored
    <strong><%= pluralize(@user.tracks.count, "track") %></strong> 
    and
    <strong><%= pluralize(@user.comments.count, "comment") %></strong>.
  </p>

  <h3>My Profile</h3>
  <p>You can add your profile at your account</p>
</article>

<section class="item">
  <header>
    <h1>My Projects</h1>
  </header>

  <% if @user.projects.any? %>
    <table>
      <thead>
        <tr><th class="title">Title</th><th class="description">Description</th><th class="link"></th><th class="link"></th></tr>
      </thead>
      <tbody>
        <%= render @user.projects %>
      </tbody>
    </table>
  <% else %>
    <p>You don't have projects yet</p>
  <% end %>
  <p>
    <%= link_to "Create new project", new_project_path, class: "button" %>
  </p>
</section>

<section class="item">
  <header>
    <h1>My Tracks</h1>
  </header>
  <% if @user.tracks.any? %>
    <table>
      <thead>
        <tr><th class="title">Title</th><th class="description">Description</th><th class="link"></th><th class="link"></th></tr>
      </thead>
      <tbody>
        <%= render @user.tracks %>
      </tbody>
    </table>
  <% else %>
    <p>You don't have tracks yet</p>
  <% end %>
</section>

<section class="item">
  <header>
    <h1>My Comments</h1>
  </header>
  <% if @user.comments.any? %>
    <table>
      <% if false %>
      <thead>
        <tr><th>Title</th><th>Comment</th><th></th><th></th></tr>
      </thead>
      <% end %>
      <tbody>
        <%= render @user.comments %>
      </tbody>
    </table>
  <% else %>
    <p>You don't have comments yet</p>
  <% end %>
</section>

